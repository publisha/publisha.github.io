<!DOCTYPE html>
<html lang="en-gb">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Enhancing an eBook with interactivity, multimedia and animation
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="/public/css/jquery.fancybox.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/guide.css">
  <link rel="stylesheet" href="/public/css/bigfoot-default.css">

  <!-- Fonts -->
  <!-- can't use google fonts on GitHub unless https -->
<link href='https://fonts.googleapis.com/css?family=Cantarell:regular,italic,bold,bolditalic' rel='stylesheet'>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<!-- Optionally make the images go full width but put this in the page metadata -->













<!-- javascripts for fancybox -->
<script type="text/javascript" src="/public/js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="/public/js/jquery.fancybox.pack.js">
</script>
<script type="text/javascript" src="/public/js/jquery.fancybox-media.js">
</script>
  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- javascript for the footnote popups -->
<script type="text/javascript" src="/public/js/bigfoot.js"></script>
<script type="text/javascript">
    $.bigfoot();
</script>


<!-- Begin Jekyll SEO tag v2.2.0 -->
<title>Enhancing an eBook with interactivity, multimedia and animation | Digital Publisher Guide</title>
<meta property="og:title" content="Enhancing an eBook with interactivity, multimedia and animation" />
<meta name="author" content="Chris Jennings" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="tutorials and screencasts about digital publishing and eBook Production" />
<meta property="og:description" content="tutorials and screencasts about digital publishing and eBook Production" />
<link rel="canonical" href="http://localhost:4000/pages/enhanced_eBook/" />
<meta property="og:url" content="http://localhost:4000/pages/enhanced_eBook/" />
<meta property="og:site_name" content="Digital Publisher Guide" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "WebPage",
"headline": "Enhancing an eBook with interactivity, multimedia and animation",
"author": {"@type": "Person",
"name": {"name":"Chris Jennings","url":"https://twitter.com/pageboy"}},
"description": "tutorials and screencasts about digital publishing and eBook Production",
"url": "http://localhost:4000/pages/enhanced_eBook/"}</script>
<!-- End Jekyll SEO tag -->

</head>


  <body class="theme-base-0b">
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->

<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">
<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <nav class="sidebar-nav"  style="border-bottom:none !important;">
    <a href="/"><i class="sidebar-nav-item fa fa-home fa-2x" aria-hidden="true"></i></a>
  </nav>
  <div class="sidebar-item" style="padding-top:0;padding-bottom:.5rem;">
    <p>tutorials and screencasts about digital publishing and eBook Production</p>
  </div>

  <nav class="sidebar-nav">
<ul class="navigation">
<li class="header">Pages by Category</li>

  <li class="dropdown"><a title="expand to see all pages about InDesign" href="#">InDesign <i style="color:white;" class="fa fa-caret-down" aria-hidden="true"></i></a>
      <ul>
        
          
            
          
            
          
            
              
                <li><a href="/pages/anchoring_wrapping/">Anchoring and Wrapping <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
          
            
          
            
              
                <li><a href="/pages/buildingaTOCinInDesign/">Building the TOC in InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
              
            
              
            
          
            
          
            
          
            
              
                <li><a href="/pages/id2xml/">Create XML from InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
              
            
          
            
              
                <li><a href="/pages/id2reflowable/">Creating a Reflowable eBook <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
              
            
          
            
              
            
          
            
              
                <li><a href="/pages/enhanced_eBook/">Enhancing an eBook with interactivity, multimedia and animation <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
              
            
          
            
              
                <li><a href="/pages/footnotes/">Footnotes, Endnotes, Sidenotes and Popup Notes <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
              
            
              
            
          
            
              
                <li><a href="/pages/iBooksAuthor/">From InDesign to iBooks Author <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
              
            
          
            
          
            
          
            
              
                <li><a href="/pages/id2fixed_recipes/">InDesign to the Fixed Layout Recipe eBook <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
              
                <li><a href="/pages/id2fixed/">InDesign to the Fixed Layout ePub <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
              
            
          
            
              
                <li><a href="/pages/eRecipeBook/">Making an eBook of Recipes <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
              
                <li><a href="/pages/masterpages/">Master Pages in InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
              
                <li><a href="/pages/ID2package/">Preflight and Package for Print and Output to PDF <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
          
            
              
            
              
            
          
            
          
            
              
                <li><a href="/pages/text2id/">Text to InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
              
            
          
            
              
            
          
            
              
                <li><a href="/pages/attentiontodetail/">Typographic detail with InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
              
            
          
            
              
                <li><a href="/pages/shakespeareCover/">Using Photoshop and InDesign to Create a Cover for Print <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
              
            
          
            
              
                <li><a href="/pages/InDesignBookPanel/">Using the Book Panel in InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
      </ul>
  </li>
      
  <li class="dropdown"><a title="expand to see all pages about HTML and CSS" href="#">HTML and CSS <i style="color:white;" class="fa fa-caret-down" aria-hidden="true"></i></a>
      <ul>
        
          
            
          
            
          
            
              
            
              
            
          
            
          
            
          
            
              
            
              
            
              
            
              
            
          
            
          
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
          
            
          
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
          
            
              
            
              
            
          
            
              
            
              
            
          
            
          
            
              
            
              
            
          
            
          
            
              
            
              
            
              
            
          
            
              
                <li><a href="/pages/htmlcssthebasics/">The basics of HTML and CSS <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
          
      </ul>
  </li>
      
  <li class="dropdown"><a title="expand to see all pages about Typography" href="#">Typography <i style="color:white;" class="fa fa-caret-down" aria-hidden="true"></i></a>
      <ul>
        
          
            
          
            
          
            
              
            
              
            
          
            
          
            
          
            
              
            
              
                <li><a href="/pages/buildingaTOCinInDesign/">Building the TOC in InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
              
            
          
            
          
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
                <li><a href="/pages/footnotes/">Footnotes, Endnotes, Sidenotes and Popup Notes <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
          
            
          
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
          
            
              
            
              
            
          
            
              
            
              
            
          
            
          
            
              
            
              
            
          
            
          
            
              
            
              
                <li><a href="/pages/text2id/">Text to InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
              
            
          
            
              
            
              
                <li><a href="/pages/attentiontodetail/">Typographic detail with InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
              
            
              
                <li><a href="/pages/shakespeareCover/">Using Photoshop and InDesign to Create a Cover for Print <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
              
            
              
            
          
      </ul>
  </li>
      
  <li class="dropdown"><a title="expand to see all pages about Using GitHub" href="#">Using GitHub <i style="color:white;" class="fa fa-caret-down" aria-hidden="true"></i></a>
      <ul>
        
          
            
          
            
          
            
              
            
              
            
          
            
          
            
          
            
              
            
              
            
              
            
              
            
          
            
          
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
          
            
          
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
          
            
              
            
              
            
          
            
              
            
              
            
          
            
          
            
              
                <li><a href="/pages/create_speare_play_web/">Repository for Shakespeare Play Web page <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
          
            
              
            
              
            
              
            
          
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
          
      </ul>
  </li>
      
  <li class="dropdown"><a title="expand to see all pages about XML" href="#">XML <i style="color:white;" class="fa fa-caret-down" aria-hidden="true"></i></a>
      <ul>
        
          
            
          
            
          
            
              
            
              
            
          
            
          
            
          
            
              
            
              
            
              
            
              
            
          
            
          
            
          
            
              
            
              
                <li><a href="/pages/id2xml/">Create XML from InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
          
            
          
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
          
            
              
            
              
            
          
            
              
            
              
            
          
            
          
            
              
            
              
            
          
            
          
            
              
            
              
            
              
            
          
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
          
      </ul>
  </li>
      
  <li class="dropdown"><a title="expand to see all pages about ePub" href="#">ePub <i style="color:white;" class="fa fa-caret-down" aria-hidden="true"></i></a>
      <ul>
        
          
            
          
            
          
            
              
            
              
            
          
            
          
            
          
            
              
            
              
            
              
                <li><a href="/pages/buildingaTOCinInDesign/">Building the TOC in InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
          
            
          
            
              
            
              
            
              
            
          
            
              
            
              
                <li><a href="/pages/id2reflowable/">Creating a Reflowable eBook <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
              
                <li><a href="/pages/editing_ePub/">Editing inside the ePUB package <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
          
            
              
            
              
                <li><a href="/pages/enhanced_eBook/">Enhancing an eBook with interactivity, multimedia and animation <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
              
            
              
            
              
                <li><a href="/pages/footnotes/">Footnotes, Endnotes, Sidenotes and Popup Notes <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
              
            
              
            
              
            
          
            
          
            
          
            
              
            
              
                <li><a href="/pages/id2fixed_recipes/">InDesign to the Fixed Layout Recipe eBook <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
          
            
              
            
              
                <li><a href="/pages/id2fixed/">InDesign to the Fixed Layout ePub <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
              
            
              
                <li><a href="/pages/eRecipeBook/">Making an eBook of Recipes <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
          
            
              
            
              
            
          
            
              
            
              
            
          
            
          
            
              
            
              
            
          
            
          
            
              
            
              
            
              
            
          
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
          
      </ul>
  </li>
      
  <li class="dropdown"><a title="expand to see all pages about iBooks Author" href="#">iBooks Author <i style="color:white;" class="fa fa-caret-down" aria-hidden="true"></i></a>
      <ul>
        
          
            
          
            
          
            
              
            
              
            
          
            
          
            
          
            
              
            
              
            
              
            
              
            
          
            
          
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
              
            
          
            
              
            
              
                <li><a href="/pages/iBooksAuthor/">From InDesign to iBooks Author <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
              
            
              
            
          
            
          
            
          
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
          
            
              
            
              
            
          
            
              
            
              
            
          
            
          
            
              
            
              
            
          
            
          
            
              
            
              
            
              
            
          
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
              
            
          
            
              
            
              
            
          
      </ul>
  </li>
      
</ul>
    <ul class="navigationtoc">
      <li class="header">Other Items</li>
    
     <li><a title="regular blog articles" class="sidebar-nav-item" href="/blog">Blog Articles <i style="color:white;" class="fa fa-caret-right" aria-hidden="true"></i></a>
     </li>
     <li><a title="screencasts from the YouTube channel" class="sidebar-nav-item" href="/pages/screencasts/">Screencasts <i style="color:white;" class="fa fa-caret-right" aria-hidden="true"></i></a>
     </li>
      <li><a title="see all contents listed" class="sidebar-nav-item" href="/contents">Contents <i style="color:white;" class="fa fa-caret-right" aria-hidden="true"></i></a>
      </li>
    </ul>
  </nav>
  <div class="sidebar-item">
    <p>
      <b>Note:</b> Images can be enlarged by click or touch
    </p>
  </div>
  <div class="sidebar-item">
    <p>
    <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><i class="fa fa-copyright" aria-hidden="true"></i> Chris Jennings</a> | v0.3 2017
    </p>
  </div>
</div>

    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Digital Publisher Guide</a><br />
            <small>Help for publishers and students of publishing</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="page">
  <!-- <h1 class="page-title">Enhancing an eBook with interactivity, multimedia and animation</h1> -->
  <h1 id="enhancing-an-ebook-with-interactivity-multimedia-and-animation">Enhancing an eBook with interactivity, multimedia and animation</h1>

<p>There are some ways we can creatively enhance the eBook version to provide some interactivity and multimedia that can go beyond the traditional book page.</p>

<h2 id="what-enhancements-we-can-add-beyond-text-and-image">What enhancements we can add beyond text and image?</h2>

<ul>
  <li>
    <p><strong>Multimedia</strong>
We can add audio and video inline with the text
Audio can be used to provide a soundtrack (music and sound while we read)
Audio narration can be played back to synchronise with text (fixed-layout only)</p>
  </li>
  <li>
    <p><strong>Non-linear content</strong>
Items that are not in the flow of the text but can appear through a hyperlink</p>
  </li>
  <li>
    <p><strong>Popup notes</strong>
We can convert footnotes into popup notes in a reflowable ePub. We can also show and hide objects that include text and image.</p>
  </li>
  <li>
    <p><strong>Animation</strong>
InDesign has some inbuilt features that can  move and deliver objects dynamically, on page open or activated by interaction with buttons</p>
  </li>
  <li>
    <p><strong>Read Aloud</strong>
Although complex to build and implement, it is possible to have text synchronised with and audio narration. This only possible in a fixed layout ePub.</p>
  </li>
</ul>

<h2 id="adding-multimedia">Adding Multimedia</h2>

<p>In a reflowable eBook we can add audio and video to the pages, but this content will need to be placed and anchored just as we have learnt to do with the images. In the context of our example Shakespeare play, we could place a video before the play begins.</p>

<p>In the example I am using Max Reinhardt’s 1935 production of <em>A Midsummer Night’s Dream</em> with Mickey Rooney as Puck.</p>

<h2 id="file-size">File Size</h2>

<p>It is worth pointing out that the video mentioned above will add 470MB to the eBook, so we should consider this carefully before we add the complete video. There is software available to compress video down to a smaller file size and you should take advantage of these. <a href="Milo Video Converter">http://www.mirovideoconverter.com</a> for the MAC is useful for this. Adobe Creative Cloud users can also try the Media Encoder to reduce the file size.</p>

<h2 id="placing-the-video">Placing the Video</h2>

<p><a href="/images/2017/02/enhanced_eBook/image1.png"><img src="/images/2017/02/enhanced_eBook/image1.png" alt="Placing the video and viewing in the Media panel" /></a></p>

<p>We place video much as we do images. Once placed though, we can then view the settings through the media view panel. We can control the preview image and decide on how to display the controller.</p>

<p><a href="/images/2017/02/enhanced_eBook/image2.png"><img src="/images/2017/02/enhanced_eBook/image2.png" alt="Anchoring and text wrap for the video" /></a></p>

<p>Perhaps a more appropriate use of video within an eBook, is to just show short clips in the appropriate context. The issue with reflowable eBooks, is that we cannot be certain the video will appear right near to the textual context.</p>

<h2 id="anchoring-and-text-wrap">Anchoring and Text Wrap</h2>

<p>Unfortunately, InDesign does not provide a way for us to create object styles for media, so we will need to make individual settings for text wrap and anchoring.</p>

<h2 id="the-result-on-export-to-epub-reflowable">The Result on Export to ePUB (reflowable)</h2>

<p>We do not need to apply any specific settings when we export again and the results are initially quite good, but I have found there is a need to edit the CSS to get the video and controller to display full width of the page. InDesign produces a very complex set of <code class="highlighter-rouge">&lt;div&gt;</code> blocks, and we need to look carefully at these in the HTML markup before experimenting with alternative rules.</p>

<h2 id="adding-audio">Adding Audio</h2>

<p><a href="/images/2017/02/enhanced_eBook/image3.png"><img src="/images/2017/02/enhanced_eBook/image3.png" alt="When audio is placed you will initially see just a square" /></a></p>

<p><a href="/images/2017/02/enhanced_eBook/image4.png"><img src="/images/2017/02/enhanced_eBook/image4.png" alt="Here we see the results - audio on the eBook page" /></a></p>

<p>Audio can be added in much the same way as the video, but once again we need to be aware that probably only want small snippets of audio in context. The audio will initially be placed as a small square, and you will need to stretch this out to fill the width of the page, so that the audio controller is as wide as possible.</p>

<p>There are different behaviours when the audio or video is playing in the book.</p>

<p>When using iBooks on the MAC, the audio and video will continue to play even if the pages are turned. When viewing the eBook on an iOS device like the iPad, the video will stop when the page is turned, but audio will continue to play on page turn.</p>

<h2 id="multimedia-in-the-fixed-layout-epub">Multimedia in the Fixed Layout ePUB</h2>

<p>When you create the fixed-layout ePUB from InDesign then the page content will be exactly as you see it in InDesign. With audio you will need to make the audio object fill the frame that you have stretched across the page</p>

<p><a href="/images/2017/02/enhanced_eBook/image5.png"><img src="/images/2017/02/enhanced_eBook/image5.png" alt="Fit the content to the frame" /></a></p>

<p>We can add audio or video as we can for the reflowable ePUB, but both audio and video will stop playing on page turn on both the MAC and iPad, because each page is a new HTML file.</p>

<blockquote>
  <p><strong>Note:</strong> There are ways to resolve this, and we will see a solution when we reach the section on ambient audio</p>
</blockquote>

<h2 id="read-aloud">Read Aloud</h2>

<p>As of this writing, the read aloud feature whereby audio can be synchronised to the text (words or lines highlighted as the audio plays) has some very mixed support. The ePUB3 Media Overlays specification does not get the support it deserves at the moment, so it can be problematic getting this to work properly.</p>

<p>If we use the current method that InDesign provides for exporting the the ePUB(fixed-layout) form, then each word in the HTML is marked-up with a span tag. Now, actually, this is exactly what we need for read-aloud, but then we are committed to highlight every word and also analyse our audio to pick out every word. We will find it very difficult to change the HTML markup to tag each line instead.</p>

<p>The basic principle is that each word spoken and written needs to relate to a time sequence within a longer audio file. A SMIL (Synchronized Multimedia Integration Language) file is constructed so as to mirror the text that is then marked up with the appropriate tags that will tell the text on screen what to highlight as the audio plays.</p>

<p>Building something like this by hand coding would be virtually impossible for the whole of the play, and would also depend on the level of granularity that you want to be highlighted; word, line, sentence, or paragraph etc.</p>

<p><a href="/images/2017/02/enhanced_eBook/image6.png"><img src="/images/2017/02/enhanced_eBook/image6.png" alt="Here we see the complex markup" /></a></p>

<p>Here we see that the audio section that we will use start ‘Four nights …’ with the span tag <code class="highlighter-rouge">id="_idTextSpan207"</code></p>

<p>We now need to construct a SMIL file that uses the following syntax:</p>

<div class="language-html highlighter-rouge"><div class="codehilite"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre></td><td class="code"><pre><span class="nt">&lt;smil</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/ns/SMIL"</span> <span class="na">xmlns:epub=</span><span class="s">"http://www.idpf.org/2007/ops"</span> <span class="na">version=</span><span class="s">"3.0"</span><span class="nt">&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;seq</span> <span class="na">id=</span><span class="s">"s000001"</span> <span class="na">epub:textref=</span><span class="s">"dream-05.xhtml"</span><span class="nt">&gt;</span>
<span class="nt">&lt;par</span> <span class="na">id=</span><span class="s">"par1"</span><span class="nt">&gt;</span>
<span class="nt">&lt;text</span> <span class="na">src=</span><span class="s">"dream-05.xhtml#_idTextSpan207"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;audio</span> <span class="na">src=</span><span class="s">"audio/act1scene1_clip01.mp3"</span> <span class="na">clipBegin=</span><span class="s">"0.000000s"</span> <span class="na">clipEnd=</span><span class="s">"2.214817s"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/par&gt;</span>
<span class="nt">&lt;par</span> <span class="na">id=</span><span class="s">"par2"</span><span class="nt">&gt;</span>
<span class="nt">&lt;text</span> <span class="na">src=</span><span class="s">"dream-05.xhtml#_idTextSpan208"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;audio</span> <span class="na">src=</span><span class="s">"audio/act1scene1_clip01.mp3"</span> <span class="na">clipBegin=</span><span class="s">"2.214817s"</span> <span class="na">clipEnd=</span><span class="s">"4.062584s"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/par&gt;</span>
<span class="nt">&lt;par</span> <span class="na">id=</span><span class="s">"par3"</span><span class="nt">&gt;</span>
<span class="nt">&lt;text</span> <span class="na">src=</span><span class="s">“dream-05.xhtml#_idTextSpan209”/</span><span class="nt">&gt;</span>
and so on ….
<span class="nt">&lt;/seq&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/smil&gt;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>You might consider using regular expressions to help with this task. My strategy would be to duplicate the XHTML file (dream-05.xhtml), and then strip out all of the style information. I can then use this base file to reconstruct the <code class="highlighter-rouge">SMIL</code> tags.</p>

<p>The next challenge is how to identify all of the clip ranges inside the audio file. For this we need the marvellous free audio editor ‘Audacity’.</p>

<p>Audacity can help us build a clip sequence by using a label track:</p>

<p><a href="/images/2017/02/enhanced_eBook/image7.png"><img src="/images/2017/02/enhanced_eBook/image7.png" alt="Audacity can help locate words spoken within the audio file" /></a></p>

<p>Then we can export the labels and we get:</p>

<div class="highlighter-rouge"><div class="codehilite"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8</pre></td><td class="code"><pre>3.051281 3.379623 Four
3.375440 3.549022 Nights
3.546931 3.820898 will
3.818807 4.172245 quickly
4.170154 4.448303 dream
4.446212 4.596789 away
4.590515 4.747366 the
4.747366 5.238834 time
</pre></td></tr></tbody></table>
</div>
</div>
<p>and then we build the SMIL file with some GREP, giving us this:</p>

<div class="language-html highlighter-rouge"><div class="codehilite"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></td><td class="code"><pre><span class="nt">&lt;smil</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/ns/SMIL"</span> <span class="na">xmlns:epub=</span><span class="s">"http://www.idpf.org/2007/ops"</span> <span class="na">version=</span><span class="s">"3.0"</span><span class="nt">&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;seq</span> <span class="na">id=</span><span class="s">"s000001"</span> <span class="na">epub:textref=</span><span class="s">"dream-05.xhtml"</span><span class="nt">&gt;</span>
<span class="nt">&lt;par</span> <span class="na">id=</span><span class="s">"par1"</span><span class="nt">&gt;</span>
<span class="nt">&lt;text</span> <span class="na">src=</span><span class="s">"dream-05.xhtml#_idTextSpan207"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;audio</span> <span class="na">src=</span><span class="s">"audio/act1scene1_clip01.mp3"</span> <span class="na">clipBegin=</span><span class="s">"0.000000s"</span> <span class="na">clipEnd=</span><span class="s">"2.214817s"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/par&gt;</span>
<span class="nt">&lt;par</span> <span class="na">id=</span><span class="s">"par2"</span><span class="nt">&gt;</span>
<span class="nt">&lt;text</span> <span class="na">src=</span><span class="s">"dream-05.xhtml#_idTextSpan208"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;audio</span> <span class="na">src=</span><span class="s">"audio/act1scene1_clip01.mp3"</span> <span class="na">clipBegin=</span><span class="s">"2.214817s"</span> <span class="na">clipEnd=</span><span class="s">"4.062584s"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/par&gt;</span>
<span class="nt">&lt;par</span> <span class="na">id=</span><span class="s">"par3"</span><span class="nt">&gt;</span>
<span class="nt">&lt;text</span> <span class="na">src=</span><span class="s">"dream-05.xhtml#_idTextSpan209"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;audio</span> <span class="na">src=</span><span class="s">"audio/act1scene1_clip01.mp3"</span> <span class="na">clipBegin=</span><span class="s">"4.062584s"</span> <span class="na">clipEnd=</span><span class="s">"6.006284s"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/par&gt;</span>
<span class="nt">&lt;par</span> <span class="na">id=</span><span class="s">"par4"</span><span class="nt">&gt;</span>
<span class="nt">&lt;text</span> <span class="na">src=</span><span class="s">"dream-05.xhtml#_idTextSpan210"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;audio</span> <span class="na">src=</span><span class="s">"audio/act1scene1_clip01.mp3"</span> <span class="na">clipBegin=</span><span class="s">"6.006284s"</span> <span class="na">clipEnd=</span><span class="s">"7.403579s"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/par&gt;</span>
<span class="nt">&lt;/seq&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/smil&gt;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<h2 id="additions-to-the-package-file-contentopf">Additions to the package file (content.opf)</h2>

<p>We now need to make changes and additions to the content.opf file. The manifest needs to include the following:</p>

<div class="language-html highlighter-rouge"><div class="codehilite"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="nt">&lt;item</span> <span class="na">id=</span><span class="s">"act1scene1_clip01"</span> <span class="na">href=</span><span class="s">"dream-5.smil"</span> <span class="na">media-type=</span><span class="s">"application/smil+xml"</span><span class="nt">/&gt;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>and then for each XHTML file where audio is played you should edit to be like this:</p>

<div class="language-html highlighter-rouge"><div class="codehilite"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="nt">&lt;item</span> <span class="na">id=</span><span class="s">"dream-6"</span> <span class="na">href=</span><span class="s">"dream-6.xhtml"</span> <span class="na">media-type=</span><span class="s">"application/xhtml+xml"</span> <span class="na">media-overlay=</span><span class="s">"act1scene1_clip01"</span> <span class="nt">/&gt;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>the metadata section should have this:</p>

<div class="language-html highlighter-rouge"><div class="codehilite"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"media:duration"</span> <span class="na">refines=</span><span class="s">"#act1scene1_clip01"</span><span class="nt">&gt;</span>0:00:53.320<span class="nt">&lt;/meta&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">property=</span><span class="s">"media:duration"</span><span class="nt">&gt;</span>0:02:37.970<span class="nt">&lt;/meta&gt;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>If you want to explore the read-aloud feature I suggest looking at <a href="http://www.albertopettarin.it/blog/2014/08/02/how-to-create-epub-3-read-aloud-ebooks.html">Alberto Pettarin’s web site</a></p>

<p>Alberto Pettarin has created some javascript which can be used to simulate the read-aloud feature and this will even work with a reflowable format of eBook.</p>

<h2 id="ambient-sound">Ambient Sound</h2>

<p>It is possible to add audio that plays automatically when a page is opened. The audio will play as long as one XHTML file is open. In other words, you can have a different ambient sound for each chapter. In our example Shakespeare play we can add some ambient audio to the start of the Scene. If you plan to create a reflowable eBook then this sound will play for the whole of this scene by placing the audio once. With a fixed-layout eBook the audio will need to be on each page.</p>

<p>To make the ambient sound user friendly there really needs to be some way to turn this off, if the reader prefers not to hear it.</p>

<p>For the ePUB Fixed layout format, Apple have some proprietary extensions that can handle ambient sound in the ePUB, and if you wish to consider this, then please refer to <a href="https://help.apple.com/itc/booksassetguide/en.lproj/static.html">Apple’s Asset Guide</a> for eBook production.</p>

<p><a href="https://www.booktrack.com">Booktrack</a> have a really effective way to add ambient sound to an eBook, but this requires their own eReader software and the use of their service, however, when you experience their approach to this, you realise, that anything less sophisticated than this, simply won’t do!</p>

<h2 id="audio-on-click-or-touch">Audio on Click or Touch</h2>

<p>When building a fixed-layout ePUB with InDesign, it is also possible to have audio play when an object is touched or clicked.</p>

<p>The audio object must first be placed on a page, and you will need to hide it by covering with the object itself or another opaque box. If the audio object is off the page (on the pasteboard), then it will not export.</p>

<p>Remember that the audio will stop when the user moves to another page.</p>

<h2 id="hyperlinked-and-supplementary-information">Hyperlinked and supplementary Information</h2>

<p>We have seen how it is possible to convert footnotes into popup notes, when using InDesign to create reflowable ePUB.</p>

<p>We can also build more advanced popups (or ‘out of flow’ content’) in the reflowable ePUB format, by adding ‘non-linear’ content. This method only has limited support, but is worth considering if your target device is Apple’s iPad.</p>

<h2 id="non-linear-content-in-a-reflowable-epub">Non-Linear Content in a Reflowable ePub</h2>

<p>You can create a single HTML5 web page and then create a hyperlink within the text of your eBook. This web page will then display in an overlaid window. When adding this kind of content, there are some steps which must be followed:</p>

<p>When the ePUB3 package is packed you can add the HTML file into the OEBPS folder and then create the hyperlink to that named file.</p>

<p>In the content.opf file add the named file to the list in the manifest section</p>

<div class="language-html highlighter-rouge"><div class="codehilite"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="nt">&lt;item</span> <span class="na">id=</span><span class="s">"lambs"</span> <span class="na">href=</span><span class="s">"lambstales.xhtml"</span> <span class="na">media-type=</span><span class="s">"application/xhtml+xml"</span> <span class="nt">/&gt;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>Add the named file into the <spine> section but add the attribute ‘linear’</spine></p>

<div class="language-html highlighter-rouge"><div class="codehilite"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="nt">&lt;itemref</span> <span class="na">idref=</span><span class="s">"lambs"</span> <span class="na">linear=</span><span class="s">"no"</span><span class="nt">/&gt;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>It is also possible to add a PDF into the eBook and have a hyperlink open this file, but once again this must be set to ‘linear-“no”’.</p>

<blockquote>
  <p><strong>Note:</strong> It is not currently possible to get non linear content to work in a fixed-layout ePub.</p>
</blockquote>

<h2 id="scrolling-text-in-the-fixed-layout-epub">Scrolling Text in the Fixed Layout ePUB</h2>

<p><a href="/images/2017/02/enhanced_eBook/image12.png"><img src="/images/2017/02/enhanced_eBook/image12.png" alt="put some text here" /></a></p>

<p>It is not possible to add scrolling text fields in a reflowable ePUB, but with the fixed layout format we can add a text box on a page and include as much scrolling text as you like.</p>

<p><a href="/images/2017/02/enhanced_eBook/image13.png"><img src="/images/2017/02/enhanced_eBook/image13.png" alt="put some text here" /></a></p>

<h2 id="how-to-create-a-vertical-scrolling-text-field">How to create a vertical scrolling text field</h2>

<p>Start a new document in InDesign with a very long vertical page size (maximum height is about 5000pixels). This really just depends on the length of your text!</p>

<p>Paste your long text into a text field on this page.</p>

<p>Make sure there is no overset text. Reduce the size of the text field so that the text just fits. Copy this this text field (not just the contents but the selected object).</p>

<p>In your target InDesign file create an empty text field wider that the one you created in the other temporary InDesign document.</p>

<p>Select the text field and ‘Paste Into’ this selected text box.You can select all of this text and style accordingly.</p>

<p>With the parent text box selected, create an Object Style and set the export tagging for HTML and ePUB to a <code class="highlighter-rouge">&lt;div&gt;</code> with a class of ‘scroller’.</p>

<p>Create a CSS file with the following:</p>

<p><a href="/images/2017/02/enhanced_eBook/image14.png"><img src="/images/2017/02/enhanced_eBook/image14.png" alt="Export tagging for the object" /></a></p>

<div class="language-css highlighter-rouge"><div class="codehilite"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11</pre></td><td class="code"><pre><span class="nt">div</span><span class="nc">.scroller</span> <span class="p">{</span>
<span class="nl">position</span><span class="p">:</span> <span class="nb">relative</span><span class="p">;</span>
<span class="nl">border</span><span class="p">:</span><span class="m">1px</span> <span class="nb">solid</span> <span class="no">silver</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">div</span><span class="nc">.scroller</span> <span class="o">&gt;</span> <span class="nt">div</span> <span class="p">{</span>
<span class="nl">overflow</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>
<span class="nl">overflow-y</span><span class="p">:</span><span class="nb">scroll</span><span class="p">;</span>
<span class="nl">overflow</span><span class="p">:</span> <span class="nb">scroll</span><span class="p">;</span>
<span class="nl">overflow-x</span><span class="p">:</span><span class="nb">hidden</span><span class="p">;</span>
<span class="nl">-webkit-overflow-scrolling</span><span class="p">:</span><span class="n">touch</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>Add this CSS file into the CSS panel when you export.</p>

<p>There may be other adjustments that you can make to the CSS, but essentially, this will created a scrolling text field.</p>

<p>You may notice that there is no scroll bar on the iPad until you actually touch the field. You may want to include an instruction above or below the text field to indicate that scroll is available.</p>

<p>As an alternative to using InDesign to create a nested text field, you could also consider leaving a blank page and then adding the text directly into the HTML after unpacking the ePUB package. Just create a web page and then copy the content from within the &lt;body&gt; tag and paste into the ePUB page. With additional styling you can then achieve the same as before.</p>

<h2 id="adding-popup-information-with-indesign-for-fixed-layout-epub">Adding Popup Information with InDesign for fixed-layout ePUB</h2>

<p>Popup notes cannot be created from footnotes in the fixed layout ePub. However, any combination of text and image can be made into a button, and so to make a popup text, you can group a text box with a drawn speech bubble and then make this into a button. You then need a transparent frame laid over the text that you want to be interactive – this then becomes the button that performs the action. You can make the popup speech bubble also have an action to hide itself when clicked.</p>

<p><a href="/images/2017/02/enhanced_eBook/image15.png"><img src="/images/2017/02/enhanced_eBook/image15.png" alt="Here we see an object that can be set to show on click" /></a></p>

<h2 id="animation">Animation</h2>

<p>InDesign does give you some basic controls over the way objects are dynamically drawn on the screen, and by selecting an object and then the Animation panel (under Window&gt;Interactive), you can invoke an event on page load. Here we see that an image is set to drop down from the top of the page when that page is reached.</p>

<blockquote>
  <p><strong>Note:</strong> Animation is not supported on anchored objects, so you will need to release any previously anchored images.</p>
</blockquote>

<p><a href="/images/2017/02/enhanced_eBook/image16.png"><img src="/images/2017/02/enhanced_eBook/image16.png" alt="Animating an image to slide onto the page" /></a></p>

<h2 id="creating-a-slide-show-in-indesign">Creating a Slide Show in InDesign</h2>

<p>There is no direct way to create a sequence of images in InDesign (as of this writing), but you can use a ‘multi-state object’ and then create a button that will provide the controls to move through the image sequence.</p>

<p>The images in the sequence need to be the same size and proportion (approximately) and you can add them to InDesign using the following workflow:</p>

<p>Prepare the images so that they are all the same proportion and size (InDesign will crop them to fit if you don’t).</p>

<p><a href="/images/2017/02/enhanced_eBook/image17.png"><img src="/images/2017/02/enhanced_eBook/image17.png" alt="put some text here" /></a></p>

<p>You may need to consider using a full page for this asset, so go ahead and create a new page or find a blank one. If your print book had blank pages then this is a good solution to keeping the same pages but avoiding banks in the eBook.</p>

<p>Create an empty graphics frame and adjust the size in the correct proportion for your image sequence.</p>

<p>You should configure this frame to ‘Fit Content Proportionally’ and turn on ‘Auto Fit’.</p>

<p>Now duplicate this frame for the number of images you want in the sequence. Use the Step and Repeat menu found on the Edit menu. The frames should be offset by a small distance.</p>

<p><a href="/images/2017/02/enhanced_eBook/image18.png"><img src="/images/2017/02/enhanced_eBook/image18.png" alt="put some text here" /></a></p>

<p>Use the Place command and select all of your images and click each frame in turn to populate the frames with the images. They should automatically resize and crop to fit. When placing images you can select more than one and all we be loaded onto your cursor.</p>

<p>Use the align toolbar to make the frames sit on top of each other. You need to align horizontally first and then vertically.</p>

<p>Use the Object States menu under Window&gt;Interactive and create a new multi-state object while this group is selected. It will automatically add each image into the different states.</p>

<p>Now we need to create buttons to control the sequence as a slide show.</p>

<p><a href="/images/2017/02/enhanced_eBook/image19.png"><img src="/images/2017/02/enhanced_eBook/image19.png" alt="put some text here" /></a></p>

<p>You need to build a graphic that shows a backward or forward triangle.</p>

<p>InDesign can help. The Polygon Frame tool gives you the ability to choose 3 for the number of sides. Turn this around to face to the left and then duplicate and turn to the right. Fill with colour etc.</p>

<p>These triangles then need to be made into buttons (menu&gt;Window&gt;Interactive&gt;Buttons and Forms) and then you need to get the action to change the state of the previously created multi-state object. More than one action can be assigned to a button, so you might consider adding a sound as a second action, to give the user some feedback when they click the button.</p>

<h2 id="enough-bells-and-whistles">Enough Bells and Whistles?</h2>

<p>Since we are creating an alternative publication to the print book, we may want to add some value to the digital version by including those artefacts that certainly are not possible in the pBook!</p>

<p>But let us not get too carried away by all the possibilities. Think carefully about the additional interactivity, multimedia and animation that you add. Ask yourself – does this really enhance the experience for the user or does it over complicate the experience. Are the Bells and Whistles a distraction? Have we become over indulgent and engaged in ‘Feature Creep’?</p>

<h2 id="epub-interactivity-preview">ePUB Interactivity Preview</h2>

<p>Under the Window&gt;Interactivity menu you will find the EPUB Interactivity Window. With this, you can test your fixed pages (or indeed the whole book) before exporting to the fixed layout ePUB. Not all features can be previewed but certainly the animation, multimedia and interactivity will show as expected.</p>

<p><a href="/images/2017/02/enhanced_eBook/image20.png"><img src="/images/2017/02/enhanced_eBook/image20.png" alt="put some text here" /></a></p>

<p><a href="/images/2017/02/enhanced_eBook/image21.png"><img src="/images/2017/02/enhanced_eBook/image21.png" alt="put some text here" /></a></p>

<!-- We can only show one screencast at the moment -->
  
</div>

<p><b>Filed under:</b> InDesign, ePub, Multi-Platform Publishing</p>




    
      </div>

    </div>
<!-- <footer>
<p><a style="float:right;" rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a>
&#169; Chris Jennings 2017</p>
</footer>
 -->
<!-- now follows items that get the menu working -->
    <label title="the menu" for="sidebar-checkbox" class="sidebar-toggle fa fa-chevron-left fa-lg" aria-hidden="true"></label>
<!-- this next item will be shown on small screens -->
    <div class="contents"><a href="/contents" title="contents"><i class="fa fa-bars fa-lg" aria-hidden="true"></i></a>
    </div>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');
        document.addEventListener('click', function(e) {
          var target = e.target;
          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;
          checkbox.checked = false;
        }, false);
      })(document);
    </script>
    <script>
        $(document).ready(function() {
            $('.fancybox').fancybox();
        });
    </script>
    <script>
    jQuery(document).ready(function($) {
    	$("img:not([title])").each(function() {
    			if($(this).attr("alt") != '') $(this).parent().attr("title", $(this).attr("alt"))
    			else $(this).parent().attr("title", $(this).attr("src"));
    	});
    });
    </script>
    <script>
        $("a[href$='.jpg'],a[href$='.jpeg'],a[href$='.png'],a[href$='.gif']").attr('rel', 'gallery').attr('class', 'sideimage').fancybox();
    </script>

    <!-- show a video -->


    <script>
    $(document).ready(function() {
    	$(".video").fancybox({
    		maxWidth	: 800,
    		maxHeight	: 600,
    		fitToView	: false,
    		width		: '70%',
    		height		: '70%',
    		autoSize	: false,
    		closeClick	: false,
    		openEffect	: 'none',
    		closeEffect	: 'none'
    	});
    });
    </script>

    <!-- navigation -->
    <script>
    jQuery(document).ready(function(){

    $(".navigation > li > a").on("click", function(e){

    	if(!$(this).hasClass("active")) {

          // hide any open menus and remove all other classes
    		$(".navigation li ul").slideUp(350);
    		$(".navigation li a").removeClass("active");

    		// open our new menu and add the open class
    		$(this).next("ul").slideDown(350);
    		$(this).addClass("active");

    	}else if($(this).hasClass("active")) {

    		$(this).removeClass("active");
    		$(this).next("ul").slideUp(350);
    	}
       e.preventDefault();
    });

    });
    </script>

  </body>
</html>
