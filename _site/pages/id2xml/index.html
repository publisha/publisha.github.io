<!DOCTYPE html>
<html lang="en-gb">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Create XML from InDesign
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="/public/css/jquery.fancybox.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/guide.css">
  <link rel="stylesheet" href="/public/css/bigfoot-default.css">

  <!-- Fonts -->
  <!-- can't use google fonts on GitHub unless https -->
<link href='https://fonts.googleapis.com/css?family=Cantarell:regular,italic,bold,bolditalic' rel='stylesheet'>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<!-- Optionally make the images go full width but put this in the page metadata -->


<!-- javascripts for fancybox -->
<script type="text/javascript" src="/public/js/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="/public/js/jquery.fancybox.pack.js">
</script>
<script type="text/javascript" src="/public/js/jquery.fancybox-media.js">
</script>
  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- javascript for the footnote popups -->
<script type="text/javascript" src="/public/js/bigfoot.js"></script>
<script type="text/javascript">
    $.bigfoot();
</script>

</head>


  <body class="theme-base-0b">
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->

<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">
<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <nav class="sidebar-nav"  style="border-bottom:none !important;">
    <a href="/"><i class="sidebar-nav-item fa fa-home fa-2x" aria-hidden="true"></i></a>
  </nav>
  <div class="sidebar-item" style="padding-top:0;padding-bottom:.5rem;">
    <p>tutorials and screencasts about digital publishing and eBook Production</p>
  </div>

  <nav class="sidebar-nav">
    <!-- <a class="sidebar-nav-item" href="/"><i class="fa fa-home fa-lg" aria-hidden="true"> </i>Home</a> -->

    

    <!-- 
    
    
    
    
      
    
    
    
      
        <a class="sidebar-nav-item" href="/pages/about/">About</a>
      
    
    
    
      
    
    
    
      
        <a class="sidebar-nav-item" href="/pages/buildingaTOCinInDesign/">Building the TOC in InDesign</a>
      
    
    
    
      
        <a class="sidebar-nav-item active" href="/pages/id2xml/">Create XML from InDesign</a>
      
    
    
    
      
        <a class="sidebar-nav-item" href="/pages/id2reflowable/">Creating a Reflowable eBook</a>
      
    
    
    
      
    
    
    
      
    
    
    
      
        <a class="sidebar-nav-item" href="/pages/eRecipeBook/">Making an eBook of Recipes</a>
      
    
    
    
      
        <a class="sidebar-nav-item" href="/pages/create_speare_play_web/">Repository for Shakespeare Play Web page</a>
      
    
    
    
      
        <a class="sidebar-nav-item" href="/pages/screencasts/">Screencasts from the PagetoScreen YouTube Channel</a>
      
    
    
    
      
        <a class="sidebar-nav-item" href="/pages/htmlcssthebasics/">The basics of HTML and CSS</a>
      
    
    
    
      
        <a class="sidebar-nav-item" href="/pages/attentiontodetail/">Typographic detail with InDesign</a>
      
    
    
    
      
        <a class="sidebar-nav-item" href="/pages/InDesignBookPanel/">Using the Book Panel in InDesign</a>
      
    
     -->

<ul class="navigation">
<li class="header">Pages by Category</li>

  <li class="dropdown"><a href="#">InDesign <i class="fa fa-caret-down" aria-hidden="true"></i></a>
    <ul>
    
     
    
     
          
            <li><a href="/pages/InDesignBookPanel/">Using the Book Panel in InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
          
        
    
     
    
     
    
     
    
     
          
            <li><a href="/pages/attentiontodetail/">Typographic detail with InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
          
        
          
        
    
     
          
            <li><a href="/pages/buildingaTOCinInDesign/">Building the TOC in InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
          
        
    
     
          
        
    
     
          
            <li><a href="/pages/eRecipeBook/">Making an eBook of Recipes <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
          
        
          
        
    
     
          
        
          
        
    
     
          
            <li><a href="/pages/id2reflowable/">Creating a Reflowable eBook <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
          
        
          
        
    
     
          
            <li><a href="/pages/id2xml/">Create XML from InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
          
        
          
        
    
     
    
     
    
     
    
    </ul>
  </li>
      
  <li class="dropdown"><a href="#">HTML <i class="fa fa-caret-down" aria-hidden="true"></i></a>
    <ul>
    
     
    
     
          
        
    
     
    
     
    
     
    
     
          
        
          
        
    
     
          
        
    
     
          
        
    
     
          
        
          
        
    
     
          
            <li><a href="/pages/htmlcssthebasics/">The basics of HTML and CSS <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
          
        
          
        
    
     
          
        
          
        
    
     
          
        
          
        
    
     
    
     
    
     
    
    </ul>
  </li>
      
  <li class="dropdown"><a href="#">CSS <i class="fa fa-caret-down" aria-hidden="true"></i></a>
    <ul>
    
     
    
     
          
        
    
     
    
     
    
     
    
     
          
        
          
        
    
     
          
        
    
     
          
        
    
     
          
        
          
        
    
     
          
        
          
            <li><a href="/pages/htmlcssthebasics/">The basics of HTML and CSS <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
          
        
    
     
          
        
          
        
    
     
          
        
          
        
    
     
    
     
    
     
    
    </ul>
  </li>
      
  <li class="dropdown"><a href="#">Typography <i class="fa fa-caret-down" aria-hidden="true"></i></a>
    <ul>
    
     
    
     
          
        
    
     
    
     
    
     
    
     
          
        
          
            <li><a href="/pages/attentiontodetail/">Typographic detail with InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
          
        
    
     
          
        
    
     
          
        
    
     
          
        
          
        
    
     
          
        
          
        
    
     
          
        
          
        
    
     
          
        
          
        
    
     
    
     
    
     
    
    </ul>
  </li>
      
  <li class="dropdown"><a href="#">Using GitHub <i class="fa fa-caret-down" aria-hidden="true"></i></a>
    <ul>
    
     
    
     
          
        
    
     
    
     
    
     
    
     
          
        
          
        
    
     
          
        
    
     
          
            <li><a href="/pages/create_speare_play_web/">Repository for Shakespeare Play Web page <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
          
        
    
     
          
        
          
        
    
     
          
        
          
        
    
     
          
        
          
        
    
     
          
        
          
        
    
     
    
     
    
     
    
    </ul>
  </li>
      
  <li class="dropdown"><a href="#">XML <i class="fa fa-caret-down" aria-hidden="true"></i></a>
    <ul>
    
     
    
     
          
        
    
     
    
     
    
     
    
     
          
        
          
        
    
     
          
        
    
     
          
        
    
     
          
        
          
        
    
     
          
        
          
        
    
     
          
        
          
        
    
     
          
        
          
            <li><a href="/pages/id2xml/">Create XML from InDesign <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
          
        
    
     
    
     
    
     
    
    </ul>
  </li>
      
  <li class="dropdown"><a href="#">ePub <i class="fa fa-caret-down" aria-hidden="true"></i></a>
    <ul>
    
     
    
     
          
        
    
     
    
     
    
     
    
     
          
        
          
        
    
     
          
        
    
     
          
        
    
     
          
        
          
            <li><a href="/pages/eRecipeBook/">Making an eBook of Recipes <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
          
        
    
     
          
        
          
        
    
     
          
        
          
            <li><a href="/pages/id2reflowable/">Creating a Reflowable eBook <i class="fa fa-caret-right" aria-hidden="true"></i></a></li>
          
        
    
     
          
        
          
        
    
     
    
     
    
     
    
    </ul>
  </li>
      
</ul>


    <!-- 
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/pages/InDesignBookPanel/">Using the Book Panel in InDesign</a>
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/pages/about/">About</a>
        
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/pages/attentiontodetail/">Typographic detail with InDesign</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/pages/buildingaTOCinInDesign/">Building the TOC in InDesign</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/pages/create_speare_play_web/">Repository for Shakespeare Play Web page</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/pages/eRecipeBook/">Making an eBook of Recipes</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/pages/htmlcssthebasics/">The basics of HTML and CSS</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/pages/id2reflowable/">Creating a Reflowable eBook</a>
        
      
    
      
        
          <a class="sidebar-nav-item active" href="/pages/id2xml/">Create XML from InDesign</a>
        
      
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/pages/screencasts/">Screencasts from the PagetoScreen YouTube Channel</a>
        
      
     -->
<!-- <a class="sidebar-nav-item" href="/blog/">Articles</a> -->
    
     <a class="sidebar-nav-item" href="/blog">Blog Articles</a>
     <a class="sidebar-nav-item" href="/pages/screencasts/">Screencasts</a>
    <span class="sidebar-nav-item">Currently v0.1</span>
    <!-- <a class="sidebar-nav-item" href="http://prose.io/#Pageboy/Islomania">Edit</a> -->
  </nav>

  <div class="sidebar-item">
    <p>
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><i class="fa fa-copyright" aria-hidden="true"></i> Chris Jennings</a> 2017
    </p>
  </div>
  <div class="sidebar-item">
    <p>
      <b>Note:</b> Images can be enlarged by click or touch
    </p>
  </div>
  <!-- <div class="sidebar-item cclicense">
    <p>
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a>
    </p>
  </div> -->
</div>

    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Digital Publisher Guide</a><br />
            <small>Help for publishers and students of publishing</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="page">
  <!-- <h1 class="page-title">Create XML from InDesign</h1> -->
  <!-- TOC depthFrom:2 depthTo:2 withLinks:1 updateOnSave:1 orderedList:0 -->
<section class="toc">
  <h2 id="on-this-page">On this Page</h2>

  <ul>
    <li><a href="#on-this-page">On this Page</a></li>
    <li><a href="#what-is-xml-and-why-do-we-want-it">What is XML?</a></li>
    <li><a href="#tags">Tags</a></li>
    <li><a href="#the-structure-pane">The Structure Pane</a></li>
    <li><a href="#do-i-need-to-use-a-dtd">Do I need to use a DTD?</a></li>
    <li><a href="#mapping-styles-to-tags">Mapping Styles to Tags</a></li>
    <li><a href="#the-root-and-the-story">The Root and the Story</a></li>
    <li><a href="#exporting-the-xml">Exporting the XML</a></li>
    <li><a href="#illustrations">Illustrations</a></li>
    <li><a href="#object-styles">Object Styles</a></li>
  </ul>
</section>
<!-- /TOC -->

<p><strong>Tags, Structure and Styles</strong> - Extracting XML from InDesign depends on a number of factors, but if we successfully achieve our goal then we can be pleased that we have styled all of our content and mapped these styles to our document structure.</p>

<h2 id="what-is-xml">What is XML?</h2>

<p>XML is eXtensible Markup Language and is a non-proprietary markup language that can be used as a future-proof way to store content. XML indicates structure rather than style; in fact XML includes no information about appearance, only structure, hierarchy and element taxonomy.<sup id="fnref:3"><a href="#fn:3" class="footnote">1</a></sup></p>

<p>Here is a sample of some XML of ‘A Midsummer Night’s Dream’:</p>

<div class="language-xml highlighter-rouge"><div class="codehilite"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td><td class="code"><pre>    <span class="nt">&lt;stage_directions&gt;</span>Enter Egeus<span class="nt">&lt;/stage_directions&gt;</span>
    <span class="nt">&lt;character&gt;</span>Egeus<span class="nt">&lt;/character&gt;</span>
    <span class="nt">&lt;verseline&gt;</span>Happy be Theseus, our renowned Duke!<span class="nt">&lt;/verseline&gt;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<h2 id="tags">Tags</h2>

<p>What we see in this example are various elements of the content surrounded by the markup using tags that (effectively) label the content as to its meaning in the structure.</p>

<p>For example <code class="highlighter-rouge">&lt;stage_directions&gt;</code> marks up the text that is identified as just that; stage directions.</p>

<p>The naming convention for tags is quite strict and you cannot use spaces in the names, nor can you start a tag name with a number. Certain other characters are not allowed; ampersands, exclamation marks, brackets etc. Also, XML will notice the difference between upper and lower case letters, so <code class="highlighter-rouge">&lt;StageDirections&gt;</code> would be different from <code class="highlighter-rouge">&lt;stagedirections&gt;</code>.</p>

<h3 id="how-do-we-create-tags">How do we create Tags?</h3>

<p>With InDesign there are 2 ways that we can create the tag names. One way is to simply add them to the tags panel, one at a time. The Tags panel is found in the menu Window&gt;Utilities&gt;Tags.</p>

<p><a href="/images/2017/02/id2xml/image1.png"><img src="/images/2017/02/id2xml/image1.png" alt="This shows the tags panel in InDEsign. Tags can be added by simply providing a name. The colours are used to differentiate the content on the page." /></a></p>

<p>When naming tags we need to be aware of the kind of content that we have so we can label the tags appropriately.</p>

<p>Another way to add tags to the tag panel is to load them from somewhere else.</p>

<p>InDesign is clever enough to be able to load the tag names from an XML document. It will locate all markup and make the tag names. Another way is to load a DTD)Document Type Definition — this will also generate the tag names. Loading a DTD will also effect the Structure panel, but we will explore this later.</p>

<p><a href="/images/2017/02/id2xml/image2.png"><img src="/images/2017/02/id2xml/image2.png" alt="Here we see the option to to load tags or load a DTD." /></a></p>

<h3 id="tag-names-and-style-names">Tag names and Style names</h3>

<p>And this is the crucial bit that helps us generate the XML!</p>

<p>Ultimately, the styles (paragraph and character styles for the moment) need to be ‘mapped’ to the tags. Of course, it is very likely that the elements in our Shakespeare play will be styled differently; character names to look different from stage directions and so on. So, structuring the play is very much tied to how we as typesetters want our play to look.</p>

<p>We should be aware though, that the typesetter may want the stage directions to look the same as the character name (strange, I know) but we should try to give those elements different tag names (and thus style names), so that future editions could easily be re-styled from the XML data.</p>

<h3 id="what-is-the-difference-between-style-names-and-tag-names">What is the difference between style names and tag names?</h3>

<p>If you have already done work with InDesign, you will know that style names (character, paragraph and object names), can have descriptive names such as ‘top red heading’, or ‘underlined sub head 2’. While this may be something that you have got used to, I want to politely suggest that you name the styles the same as you would if you were marking up with XML. In other words, think of a term that identifies its purpose and meaning, rather than its appearance.</p>

<p>As you will see in a moment, we can map the styles to tags and select each pair in turn, but if the <em>names of styles and tags are the same</em>, then InDesign will map them automatically for us. Cool!</p>

<h2 id="the-structure-pane">The Structure Pane</h2>

<p>Before we go any further with this, it’s time to introduce the Structure Pane.</p>

<blockquote>
  <p>Go to the menu View&gt;Structure&gt;Show Structure</p>
</blockquote>

<p>What you see is a pane on the left with one item in it called Root.</p>

<p>Every document will have a root.</p>

<p><a href="/images/2017/02/id2xml/image3.png"><img src="/images/2017/02/id2xml/image3.png" alt="Initially we see one tag - the Root" /></a></p>

<p>From the Structure pane we can also load a DTD. From the top right of the Structure Pane, a drop down menu offers the option of loading a DTD. The result of this operation is that the Tag window is then populated with the the Tags identified in the DTD.</p>

<p><a href="/images/2017/02/id2xml/image4.png"><img src="/images/2017/02/id2xml/image4.png" alt="Tags have been loaded from a DTD" /></a></p>

<p>The DTD that has just been loaded looks like the image to the left.</p>

<p><a href="/images/2017/02/id2xml/image5.png"><img src="/images/2017/02/id2xml/image5.png" alt="This is an image of the DTD in the InDesign window" /></a></p>

<p>A <code class="highlighter-rouge">DTD</code> (Document Type Definition) is a set of rules, that sets out what tags can be used in the XML and how they should be arranged in the hierarchy.</p>

<h2 id="do-i-need-to-use-a-dtd">Do I need to use a DTD?</h2>

<p>It is not required that you use a DTD at all. If you want to add tag names to the Tags panel one at a time, this will also work. If you do it this way, then you need to produce a Tag for each element type in the play; characterName, prose, stageDirections — or whatever you wish to call them. You need to analyse the text so that you</p>

<h2 id="mapping-styles-to-tags">Mapping Styles to Tags</h2>

<p>Once we have our play styled using character and paragraph styles (appropriately), and we have a set of tags that define those same elements, then we can ‘Map Styles to Tags’.</p>

<p><a href="/images/2017/02/id2xml/image6.png"><img src="/images/2017/02/id2xml/image6.png" alt="Mapping styles to tags" /></a></p>

<p>As you will see from the dialogue box here, there is an option to ‘Map by Name’. This will, of course, automatically get the mapping done if the names are the same! I mentioned that before didn’t I? Not to worry, if you didn’t name the same, because you can go through each one and select the tag name to the appropriate style.</p>

<p><a href="/images/2017/02/id2xml/image7.png"><img src="/images/2017/02/id2xml/image7.png" alt="When the names match we can use Map by Name" /></a></p>

<p>You will notice here that not all Styles are matched to Tags. This is because some of these tags are ‘Parent Objects’. InDesign does not map objects through the ‘Map by Name’ button, so we need to do this through the structure pane.</p>

<p>The structure pane after mapping the tags to the styles is seen here.</p>

<p><a href="/images/2017/02/id2xml/image8.png"><img src="/images/2017/02/id2xml/image8.png" alt="The dramatis personae is in one story" /></a></p>

<h2 id="the-root-and-the-story">The Root and the Story</h2>

<p>In the Structure Pane, you now see that we have a ‘Story’ inside the ‘Root’, and then other components inside the Story.</p>

<p>In my example so far, I only have one ‘Story’. All of my text was ‘Placed’ and is threaded together. Later, we will look at breaking the one Story into parts.</p>

<p>To make our XML structure correct, we need to make the Root element become <code class="highlighter-rouge">shakespeareplay</code> and our one story ‘play’. We do this very easily by selecting ‘Root’ in the structure pane and then click once on <code class="highlighter-rouge">shakespeareplay</code> in the tag window.</p>

<p>Same with ‘Story’ and the tag ‘play’.</p>

<p><a href="/images/2017/02/id2xml/image9.png"><img src="/images/2017/02/id2xml/image9.png" alt="We can only change the Story tag to the proper nmae from the DTD by selecting in the tags panel" /></a></p>

<h3 id="split-the-story-if-you-need">Split the Story (if you need)</h3>

<p>If you want to break the story (all threaded in my example), so that the Dramatis Personae is in a separate parent tag, you can use a Script that comes with InDesign.</p>

<p><a href="/images/2017/02/id2xml/image10.png"><img src="/images/2017/02/id2xml/image10.png" alt="We can break the complete story into seperate ones with a script " /></a></p>

<p>In the Scripts panel (Windows&gt;Utilities&gt;Scripts), you will find a script called ‘breakframe’ under the Samples section. Select the frame that you want to break and double click the script. You now have a separate threaded story.</p>

<p><a href="/images/2017/02/id2xml/image11.png"><img src="/images/2017/02/id2xml/image11.png" alt="We now see the structure; 2 tags inside the shakespeareplay tag" /></a></p>

<p>This will also be tagged as ‘play’ so select it in the Structure pane and click the ‘dramatis_personae’ tag. It may be in the wrong order — coming to the end of the structure. Simply drag it up in the Structure pane.</p>

<p>Save your work!</p>

<p><a class="video fancybox.iframe fa fa-film" title="XML and InDesign" href="https://www.youtube.com/embed/LdWvjWyLjeg?rel=0&amp;showinfo=0"> See a screencast to show XML Tagging with InDesign</a></p>

<h2 id="exporting-the-xml">Exporting the XML</h2>

<p>You can Export XML from the menu on the Structure pane or from the InDesign File&gt;Export menu.</p>

<p>The options are these.</p>

<p><a href="/images/2017/02/id2xml/image12.png"><img src="/images/2017/02/id2xml/image12.png" alt="Export the XML with these settings" /></a></p>

<p>If you have used a DTD then you can include a reference to it in the XML. Viewing the XML can be done with various programs but we will deal with that afterwards.</p>

<h3 id="inspecting-the-xml">Inspecting the XML</h3>

<p>We can view our XML with a web browser such as Safari or Google Chrome.</p>

<p><a href="/images/2017/02/id2xml/image13.png"><img src="/images/2017/02/id2xml/image13.png" alt="Viewing the XML with a browser like Google Chrome" /></a></p>

<h3 id="editing-the-xml-file">Editing the XML file</h3>

<p>We can view and edit the XML file with a text editor such as Textwrangler, but when we view with this program we will notice that the text has no line breaks. To help see the way the XML is structured, you can put a break between the closing and opening tags.</p>

<p><a href="/images/2017/02/id2xml/image14.png"><img src="/images/2017/02/id2xml/image14.png" alt="WE may need to tidy the XML for easier viewing in a text editor" /></a></p>

<h3 id="what-might-be-wrong-with-the-xml">What might be wrong with the XML?</h3>

<p>You will need to check for two possible errors.</p>

<h4 id="untagged-content">Untagged Content</h4>

<p>If you notice content that is not tagged, then it could mean that you have not used a style for that content. On the other hand, maybe you did not map one style to a tag.</p>

<p><a href="/images/2017/02/id2xml/image15.png"><img src="/images/2017/02/id2xml/image15.png" alt="This portion of XML shows that the word ‘Exit’ is not tagged" /></a></p>

<p>This portion of XML shows that the word ‘Exit’ is not tagged.</p>

<h4 id="empty-tags">Empty Tags</h4>

<p>If you find an opening and closing tag with no content between those tags, then you have empty paragraphs.<sup id="fnref:1"><a href="#fn:1" class="footnote">2</a></sup></p>

<p><a href="/images/2017/02/id2xml/image16.png"><img src="/images/2017/02/id2xml/image16.png" alt="This section of XML shows that there must have been an empty paragraph before the stage directions." /></a></p>

<p>This section of XML shows that there must have been an empty paragraph before the stage directions.<sup id="fnref:2"><a href="#fn:2" class="footnote">3</a></sup></p>

<h3 id="fixing-errors">Fixing Errors</h3>

<p>Of course you can edit the XML, but it is better to go back to InDesign and make these corrections there and then re-export.</p>

<h3 id="forced-line-breaks">Forced line breaks</h3>

<p>Force line breaks (sometimes called ‘softbreaks’) are achieved by using SHIFT-RETURN. They are sometimes used to keep text within a paragraph or heading, putting the line down on the next line. If you are trying to give your headings a more even horizontal distribution then you might try using ‘Balance Ragged Lines’ within the ‘Indents and Spacing’ section of the paragraph style. If you do use a forced line break then we need to be aware of the results in the XML export.</p>

<h3 id="what-happens-to-forced-line-breaks-within-the-xml">What happens to forced line breaks within the XML?</h3>

<p>It depends on 2 things!</p>

<p>When you enter a forced line break between 2 words, you might be inclined to remove the space.</p>

<p>If you do so, when you export to XML, the forced line break will not be tagged and the 2 words will not be spaced (putting them together!).</p>

<p>However — if on export to XML you select the <code class="highlighter-rouge">Remap Break, Whitespace and Special Characters</code>, checkbox, then the ‘forced line break’ will be replaced by a space.</p>

<p><a href="/images/2017/02/id2xml/image17.png"><img src="/images/2017/02/id2xml/image17.png" alt="We may need to remove forced line breaks" /></a></p>

<p>On the other hand, if you make sure that you have both a space and a forced line break, this will not be necessary.</p>

<h2 id="illustrations">Illustrations</h2>

<p>For pictures, and images to appear in the correct location for the XML, you must be sure to anchor them.</p>

<h3 id="how-to-anchor-images">How to anchor images.</h3>

<p>The important thing to remember, is that this process is more about the flow of the document rather than the appearance, so we cannot just place the images anywhere and expect them to appear in the right place within the text. The images need to be ‘anchored’ correctly.</p>

<h3 id="place-the-image-on-the-pasteboard-first">Place the Image on the Pasteboard first</h3>

<p><a href="/images/2017/02/id2xml/image18.png"><img src="/images/2017/02/id2xml/image18.png" alt="The image place on the pasteboard. Note the small blue square, top  right of the image frame" /></a></p>

<p>In my Shakespeare play book I plan to put a different images with each scene. I intend to place this image below the scene location and before the start of the first stage directions.</p>

<p>Here we see the image on the pasteboard. Notice the small solid blue square on the border of the image. We need to SHIFT-drag this to the end of the line ‘Athens. Quince’s House’. This will anchor it at this point in the text and you should notice an ‘anchor’ symbol in place of the small blue square. Anchoring images may also involve selecting the Anchored Image Options menu item under the Object menu, but for now, we will create a style that will be consistent for all images.</p>

<p>Now we need to create an Object Style for all images that will follow the scene title.</p>

<h2 id="object-styles">Object Styles</h2>

<p>Object styles are a very powerful feature of InDesign, and allow you to apply formatting to various attributes of the object.</p>

<p>With the anchored image selected, find the Object panel, and create a new object style. I will name mine ‘scene_image’. The important style attribute for now is the Anchored Image Options section. You should select ‘Custom’ rather than ‘Inline’.</p>

<p><a href="/images/2017/02/id2xml/image19.png"><img src="/images/2017/02/id2xml/image19.png" alt="The important style attribute for now is the Anchored Image Options section" /></a></p>

<h3 id="tagging-objects">Tagging Objects</h3>

<p>InDesign does not offer a way to automate the mapping of object styles to tags, so we need to select our graphic object (currently using the “scene_image” object style), and then select the tag: ‘scene_image’.</p>

<p>The object will then appear in the structure pane at the appropriate place.</p>

<p><a href="/images/2017/02/id2xml/image20.png"><img src="/images/2017/02/id2xml/image20.png" alt="Here we see the image anchored with the object style selected in the object styles palette and the tag selected in the tag window." /></a></p>

<p>Here we see the image anchored with the object style selected in the object styles palette and the tag selected in the tag window.</p>

<p>We can then add the attribute ‘alt’ to this element in the structure panel.</p>

<p><a href="/images/2017/02/id2xml/image21.png"><img src="/images/2017/02/id2xml/image21.png" alt="Adding the 'alt' attribute" /></a></p>

<p><a href="/images/2017/02/id2xml/image22.png"><img src="/images/2017/02/id2xml/image22.png" alt="The resultant XML section will look like this" /></a></p>

<p><a class="video fancybox.iframe fa fa-film" title="XML output from InDesign" href="https://www.youtube.com/embed/izYu_V-MKeI?rel=0&amp;showinfo=0"> Another screencast to show exporting the XML</a></p>

<div class="footnotes">
  <ol>
    <li id="fn:3">
      <p>XML and InDesign, Dorothy J. Hoskins, O’Reilly Media on January 2013&nbsp;<a href="#fnref:3" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:1">
      <p>This may be some text that you forgot to apply a style to; maybe styling by using bespoke styles from the style menus.&nbsp;<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:2">
      <p>Using empty paragraphs to provide space between elements is what may have caused this&nbsp;<a href="#fnref:2" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

</div>

        
        <p><b>Filed under:</b> InDesign, XML</p>
        

      </div>

    </div>
<!-- <footer>
<p><a style="float:right;" rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a>
&#169; Chris Jennings 2017</p>
</footer>
 -->
<!-- now follows items that get the menu working -->
    <label title="the menu" for="sidebar-checkbox" class="sidebar-toggle fa fa-chevron-left fa-lg" aria-hidden="true"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');
        document.addEventListener('click', function(e) {
          var target = e.target;
          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;
          checkbox.checked = false;
        }, false);
      })(document);
    </script>
    <script>
        $(document).ready(function() {
            $('.fancybox').fancybox();
        });
    </script>
    <script>
    jQuery(document).ready(function($) {
    	$("img:not([title])").each(function() {
    			if($(this).attr("alt") != '') $(this).parent().attr("title", $(this).attr("alt"))
    			else $(this).parent().attr("title", $(this).attr("src"));
    	});
    });
    </script>
    <script>
        $("a[href$='.jpg'],a[href$='.jpeg'],a[href$='.png'],a[href$='.gif']").attr('rel', 'gallery').attr('class', 'sideimage').fancybox();
    </script>

    <!-- show a video -->


    <script>
    $(document).ready(function() {
    	$(".video").fancybox({
    		maxWidth	: 800,
    		maxHeight	: 600,
    		fitToView	: false,
    		width		: '70%',
    		height		: '70%',
    		autoSize	: false,
    		closeClick	: false,
    		openEffect	: 'none',
    		closeEffect	: 'none'
    	});
    });
    </script>

    <!-- navigation -->
    <script>
    jQuery(document).ready(function(){

    $(".navigation > li > a").on("click", function(e){

    	if(!$(this).hasClass("active")) {

          // hide any open menus and remove all other classes
    		$(".navigation li ul").slideUp(350);
    		$(".navigation li a").removeClass("active");

    		// open our new menu and add the open class
    		$(this).next("ul").slideDown(350);
    		$(this).addClass("active");

    	}else if($(this).hasClass("active")) {

    		$(this).removeClass("active");
    		$(this).next("ul").slideUp(350);
    	}
       e.preventDefault();
    });

    });
    </script>
  </body>
</html>
